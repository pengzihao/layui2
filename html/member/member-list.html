<!DOCTYPE html>
<html>
  
  <head>
    <meta charset="UTF-8">
    <title>欢迎页面-X-admin2.0</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="./css/font.css">
    <link rel="stylesheet" href="../../css/xadmin.css">
    <script type="text/javascript" src="../../lib/layui/layui.js" charset="utf-8"></script>
    <script type="text/javascript" src="../../js/xadmin.js"></script>
    <!-- 让IE8/9支持媒体查询，从而兼容栅格 -->
    <!--[if lt IE 9]>
      <script src="https://cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>
      <script src="https://cdn.staticfile.org/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  
  <body>
    <div class="x-nav">
      <span class="layui-breadcrumb">
        <a href="">首页</a>
        <a href="">演示</a>
        <a>
          <cite>导航元素</cite></a>
      </span>
      <a class="layui-btn layui-btn-small" style="line-height:1.6em;margin-top:3px;float:right" href="javascript:location.replace(location.href);" title="刷新">
        <i class="layui-icon" style="line-height:30px">ဂ</i></a>
    </div>
    <div class="x-body">
      <div class="layui-row">
        <form class="layui-form layui-col-md12 x-so">
          <input class="layui-input" placeholder="开始日" name="start" id="start">
          <input class="layui-input" placeholder="截止日" name="end" id="end">
          <input type="text" name="username"  placeholder="请输入用户名" autocomplete="off" class="layui-input">
          <button class="layui-btn"  lay-submit="" lay-filter="sreach"><i class="layui-icon">&#xe615;</i></button>
        </form>
      </div>
      <xblock>
        <button class="layui-btn layui-btn-danger" onclick="delAll()"><i class="layui-icon"></i>批量删除</button>
        <button class="layui-btn" onclick="x_admin_show('添加用户','./member-add.html',600,400)"><i class="layui-icon"></i>添加</button>
        <span class="x-right" style="line-height:40px">共有数据：88 条</span>
      </xblock>
      <table id="demo" lay-filter="test">
        <!--<thead>-->
          <!--<tr>-->
            <!--<th>-->
              <!--<div class="layui-unselect header layui-form-checkbox" lay-skin="primary"><i class="layui-icon">&#xe605;</i></div>-->
            <!--</th>-->
            <!--<th>ID</th>-->
            <!--<th>用户名</th>-->
            <!--<th>性别</th>-->
            <!--<th>手机</th>-->
            <!--<th>邮箱</th>-->
            <!--<th>地址</th>-->
            <!--<th>加入时间</th>-->
            <!--<th>状态</th>-->
            <!--<th>操作</th></tr>-->
        <!--</thead>-->
        <!--<tbody>-->
          <!--<tr>-->
            <!--<td>-->
              <!--<div class="layui-unselect layui-form-checkbox" lay-skin="primary" data-id='2'><i class="layui-icon">&#xe605;</i></div>-->
            <!--</td>-->
            <!--<td>1</td>-->
            <!--<td>小明</td>-->
            <!--<td>男</td>-->
            <!--<td>13000000000</td>-->
            <!--<td>admin@mail.com</td>-->
            <!--<td>北京市 海淀区</td>-->
            <!--<td>2017-01-01 11:11:42</td>-->
            <!--<td class="td-status">-->
              <!--<span class="layui-btn layui-btn-normal layui-btn-mini">已启用</span></td>-->
            <!--<td class="td-manage">-->
              <!--<a onclick="member_stop(this,'10001')" href="javascript:;"  title="启用">-->
                <!--<i class="layui-icon">&#xe601;</i>-->
              <!--</a>-->
              <!--<a title="编辑"  onclick="x_admin_show('编辑','member-edit.html',600,400)" href="javascript:;">-->
                <!--<i class="layui-icon">&#xe642;</i>-->
              <!--</a>-->
              <!--<a onclick="x_admin_show('修改密码','member-password.html',600,400)" title="修改密码" href="javascript:;">-->
                <!--<i class="layui-icon">&#xe631;</i>-->
              <!--</a>-->
              <!--<a title="删除" onclick="member_del(this,'要删除的id')" href="javascript:;">-->
                <!--<i class="layui-icon">&#xe640;</i>-->
              <!--</a>-->
            <!--</td>-->
          <!--</tr>-->
          <!--<tr>-->
            <!--<td>-->
              <!--<div class="layui-unselect layui-form-checkbox" lay-skin="primary" data-id='2'><i class="layui-icon">&#xe605;</i></div>-->
            <!--</td>-->
            <!--<td>1</td>-->
            <!--<td>小明</td>-->
            <!--<td>男</td>-->
            <!--<td>13000000000</td>-->
            <!--<td>admin@mail.com</td>-->
            <!--<td>北京市 海淀区</td>-->
            <!--<td>2017-01-01 11:11:42</td>-->
            <!--<td class="td-status">-->
              <!--<span class="layui-btn layui-btn-normal layui-btn-mini">已启用</span></td>-->
            <!--<td class="td-manage">-->
              <!--<a onclick="member_stop(this,'10001')" href="javascript:;"  title="启用">-->
                <!--<i class="layui-icon">&#xe601;</i>-->
              <!--</a>-->
              <!--<a title="编辑"  onclick="x_admin_show('编辑','member-edit.html',600,400)" href="javascript:;">-->
                <!--<i class="layui-icon">&#xe642;</i>-->
              <!--</a>-->
              <!--<a onclick="x_admin_show('修改密码','member-password.html',600,400)" title="修改密码" href="javascript:;">-->
                <!--<i class="layui-icon">&#xe631;</i>-->
              <!--</a>-->
              <!--<a title="删除" onclick="member_del(this,'要删除的id')" href="javascript:;">-->
                <!--<i class="layui-icon">&#xe640;</i>-->
              <!--</a>-->
            <!--</td>-->
          <!--</tr>-->
        <!--</tbody>-->
        <script type="text/html" id="barDemo">
          <a class="layui-btn layui-btn-xs" lay-event="detail">查看</a>
          <a class="layui-btn layui-btn-normal layui-btn-xs"  lay-event="edit">编辑</a>
          <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">删除</a>
        </script>
      </table>

      <div id="pageBox"></div>
      <!--<div class="page">-->
        <!--<div>-->
          <!--<a class="prev" href="">&lt;&lt;</a>-->
          <!--<a class="num" href="">1</a>-->
          <!--<span class="current">2</span>-->
          <!--<a class="num" href="">3</a>-->
          <!--<a class="num" href="">489</a>-->
          <!--<a class="next" href="">&gt;&gt;</a>-->
        <!--</div>-->
      <!--</div>-->

    </div>
    <script>
      layui.use(['laydate','table','laypage'], function(){
          var laydate = layui.laydate;
          var table = layui.table;
          var laypage = layui.laypage;
          console.log(laypage)
          //执行一个laydate实例
          laydate.render({
            elem: '#start' //指定元素
          });

          //执行一个laydate实例
          laydate.render({
            elem: '#end' //指定元素
          });

          table.render({
              elem: '#demo',
              height: 600,
              // skin: 'line', //行边框风格
              // even: true, //开启隔行背景
              url: 'data/btable_data.json', //数据接口
              limit: 10,
              page: true, //开启分页
              cols: [[ //表头
                  {field: 'id', title: 'ID', width: '2.5%', fixed: 'left'}
                  ,{field: 'username', title: '用户名', width:'10%'}
                  ,{field: 'sex', title: '性别', width:'10%'}
                  ,{field: 'city', title: '城市', width:'10%'}
                  ,{field: 'sign', title: '签名', width: '10%'}
                  ,{field: 'experience', title: '积分', width: '10%'}
                  ,{field: 'score', title: '评分', width: '10%'}
                  ,{field: 'classify', title: '职业', width: '15%'}
                  ,{field: 'wealth', title: '财富', width: '11.5%'}
                  ,{fixed: 'right', width: '10%', title: '管理', align:'center', toolbar: '#barDemo'}
              ]],
              //数据渲染完成后回调
              done: function(res, curr, count){
                  //如果是异步请求数据方式，res即为你接口返回的信息。
                  //如果是直接赋值的方式，res即为：{data: [], count: 99} data为当前页数据、count为数据总长度
                  console.log(res);

                  //得到当前页码
                  console.log(curr);

                  //得到数据总量
                  console.log(count);

                  // getPageDate(curr,count)
              }
          });

          //监听点击查看，编辑，删除按钮事件
          table.on('tool(test)', function(obj){ //注：tool是工具条事件名，test是table原始容器的属性 lay-filter="对应的值"
              var data = obj.data; //获得当前行数据
              console.log(data)
              var layEvent = obj.event; //获得 lay-event 对应的值（也可以是表头的 event 参数对应的值）
              var tr = obj.tr; //获得当前行 tr 的DOM对象

              if(layEvent === 'detail'){ //查看
                  //do somehing
              } else if(layEvent === 'del'){ //删除
                  layer.confirm('真的删除行么', function(index){
                      obj.del(); //删除对应行（tr）的DOM结构，并更新缓存
                      layer.close(index);
                      //向服务端发送删除指令
                      layer.msg('已删除!',{icon: 5,time:1000});
                  });
              } else if(layEvent === 'edit'){ //编辑
                  //do something

                  //同步更新缓存对应的值
                  obj.update({
                      username: '123'
                      ,title: 'xxx'
                  });
              }
          });

          // function getPageDate(curr,count) {
          //     //执行一个laypage实例
          //     laypage.render({
          //         elem: 'pageBox', //注意，这里的 test1 是 ID，不用加 # 号
          //         limit: 10, //每页显示的条数。laypage将会借助 count 和 limit 计算出分页数。
          //         count: count, //数据总数，从服务端得到
          //         groups: 5, //连续出现的页码个数
          //         first: '首页',
          //         last: '尾页',
          //         layout: ['prev', 'page', 'next','count','skip','refresh'], // 设置分页显示内容
          //         jump: function(obj, first){
          //             //obj包含了当前分页的所有参数，比如：
          //             console.log(obj.curr); //得到当前页，以便向服务端请求对应页的数据。
          //             console.log(obj.limit); //得到每页显示的条数
          //
          //             //首次不执行
          //             if(!first){
          //                 //do something
          //             }
          //         }
          //     });
          // }


      });

      //  /*用户-停用*/
      // function member_stop(obj,id){
      //     layer.confirm('确认要停用吗？',function(index){
      //
      //         if($(obj).attr('title')=='启用'){
      //
      //           //发异步把用户状态进行更改
      //           $(obj).attr('title','停用')
      //           $(obj).find('i').html('&#xe62f;');
      //
      //           $(obj).parents("tr").find(".td-status").find('span').addClass('layui-btn-disabled').html('已停用');
      //           layer.msg('已停用!',{icon: 5,time:1000});
      //
      //         }else{
      //           $(obj).attr('title','启用')
      //           $(obj).find('i').html('&#xe601;');
      //
      //           $(obj).parents("tr").find(".td-status").find('span').removeClass('layui-btn-disabled').html('已启用');
      //           layer.msg('已启用!',{icon: 5,time:1000});
      //         }
      //
      //     });
      // }
      //
      // /*用户-删除*/
      // function member_del(obj,id){
      //     layer.confirm('确认要删除吗？',function(index){
      //         //发异步删除数据
      //         $(obj).parents("tr").remove();
      //         layer.msg('已删除!',{icon:1,time:1000});
      //     });
      // }
      //
      //
      //
      // function delAll (argument) {
      //
      //   var data = tableCheck.getData();
      //
      //   layer.confirm('确认要删除吗？'+data,function(index){
      //       //捉到所有被选中的，发异步进行删除
      //       layer.msg('删除成功', {icon: 1});
      //       $(".layui-form-checked").not('.header').parents('tr').remove();
      //   });
      // }
    </script>
    <script>var _hmt = _hmt || []; (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?b393d153aeb26b46e9431fabaf0f6190";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
      })();</script>
  </body>

</html>